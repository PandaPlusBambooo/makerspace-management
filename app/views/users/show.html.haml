.row
  .col-md-4
    .card
      - if @user.profile_image_url.present?
        = image_tag @user.profile_image_url, class: 'card-img-top'
      .card-block
        %h4.card-title
          = @user.full_name
          - if @user.position_name.present?
            %small.block
              = @user.position_name
        %p.card-text
          - if @user.biography.present?
            = @user.biography
          %small.text-muted
            Member since #{@user.member_since_fancy}

      %ul.list-group.list-group-flush
        - if @user.twitter_username.present?
          %li.list-group-item
            = link_to "https://twitter.com/#{@user.twitter_username}" do
              %i.fa.fa-twitter
              @#{@user.twitter_username}
        - if @user.facebook_username.present?
          %li.list-group-item
            = link_to "https://facebook.com/#{@user.facebook_username}" do
              %i.fa.fa-facebook
              \/#{@user.facebook_username}
        - if @user.github_username.present?
          %li.list-group-item
            = link_to "https://github.com/#{@user.github_username}" do
              %i.fa.fa-github
              \/#{@user.github_username}
        - if @user.slack_username.present?
          %li.list-group-item
            = link_to "slack://user?team=T20T77H1T" do
              %i.fa.fa-slack
              @#{@user.slack_username}

      - if can? :edit, @user
        .card-block
          = link_to edit_user_path(@user), class: "card-link" do
            %i.fa.fa-pencil
            Edit Profile

          - if can? :password, @user
            %div
              = link_to password_user_path(@user), class: "card-link" do
                %i.fa.fa-lock
                Change Password

  .col-md-8
    - if can? :read, Punch
      .card
        .card-block
          %h4.card-title.mb-0
            %i.fa.fa-check-square-o
            Check In's & Out's

          - unless @user.punches.count > 0
            %p.card-text.text-muted
              #{@user.first_name} has not checked in or out

        - if @user.punches.count > 0
          %ul.list-group.list-group-flush
            - @user.punches.each do |punch|
              %li.list-group-item.justify-content-between
                %h6.mb-0
                  = punch.created_at.strftime("%r on %B %-d, %Y")
                  %small
                    - if punch.in?
                      %i.fa.fa-sign-in
                      In
                    - else
                      %i.fa.fa-sign-out
                      Out

